{% extends "base.html" %}


{% block title %}My profile{% endblock %}


{% block Content %}


<div class="navbar">
    <p>BlogApp</p>

    <ul class = 'nav-list'>
        <li><a href="/"> Home </a></li>
        <li><a href="/post_view"> Posts </a></li>
        <li><a href="/my-profile" >Profile</a></li>
        <li><a href="/logout" >Logout</a></li>
    </ul>


</div>

<!--Profile info here-->
<div class="container">

    <div class="profile-container">

        <!--Profile pic-->
        <div class="profile-pic">
            <img src = "{{ url_for('static', filename = 'img/' + user.profile_filename ) }}" width = "150px"  height = "150px">
            
            <form action="" enctype="multipart/form-data" method="POST">
                <input type="file" name="file" id="file">
                <input type="submit" value="Edit">
            </form>
    
        </div>
    
        <h1>{{ user.user_name }}</h1>
        <a href="/change-username">Edit Username</a>
    
    
    </div>



    

</div>




<h1 align = "center"> Your Posts </h1>


    {% for post in user.posts %}

        <div class="post-container">

            <div class="post">

                <!--The users name -->
                    <img src="{{ url_for('static', filename = 'img/' + user.profile_filename )}}" width = "100px" height="100px">
                    <h1>{{ user.user_name }}</h1>
                <!--The post-->
                <p>{{ post.post_data }}</p>
                <!--The buttons-->
                <div class="post-button">
                    <a class = "view-post" href="/user_post/{{ post.id }}">View Post</a>
                    <a href="/edit_post/{{ post.id }}" class ="edit-post">Edit Post</a>
                    <a href="/delete_post/{{ post.id }}" class ="delete-post">Delete Post</a>
                </div>

            </div>



        </div>
    {% endfor %}





{% endblock %}